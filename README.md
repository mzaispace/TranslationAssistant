# ðŸš€ ç ”å‘-äº§å“ ç¿»è¯‘åŠ©æ‰‹ (Dev-Prod Translator)

è¿™æ˜¯ä¸€ä¸ªåŸºäºŽ **FastAPI** å’Œ **Chainlit** æž„å»ºçš„æ™ºèƒ½è½¬è¯‘å·¥å…·ã€‚å®ƒæ—¨åœ¨æ‰“ç ´äº§å“ç»ç†ï¼ˆPMï¼‰ä¸Žç ”å‘äººå‘˜ï¼ˆRDï¼‰ä¹‹é—´çš„â€œæ²Ÿé€šå¢™â€ï¼Œé€šè¿‡å¤§è¯­è¨€æ¨¡åž‹å°†ä¸šåŠ¡éœ€æ±‚ç²¾å‡†è½¬åŒ–ä¸ºæŠ€æœ¯æ–¹æ¡ˆï¼Œæˆ–å°†æŠ€æœ¯æ”¹è¿›è½¬åŒ–ä¸ºå•†ä¸šä»·å€¼ã€‚

---

## ðŸ—ï¸ ç³»ç»Ÿæž¶æž„

æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œç¡®ä¿å¼•æ“Žå•ä¾‹è¿è¡Œï¼ŒåŒæ—¶æ”¯æŒ Web ç•Œé¢å’Œ API è°ƒç”¨ã€‚

- **Core**: `engine_factory.py` è´Ÿè´£å¤§æ¨¡åž‹çš„å•ä¾‹åŠ è½½ä¸Žç®¡ç†ã€‚
- **Web UI**: åŸºäºŽ Chainlitï¼Œæä¾›ç›´è§‚çš„å¯¹è¯å¼ç¿»è¯‘ä½“éªŒã€‚
- **API**: åŸºäºŽ FastAPIï¼Œæ”¯æŒç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆã€‚
- **Engines**: åŒæ—¶æ”¯æŒæœ¬åœ°ç§æœ‰åŒ–æ¨¡åž‹ (Qwen) å’Œ åœ¨çº¿æ¨¡åž‹ (OpenAI)ã€‚

---

## ðŸ› ï¸ è¿‘æœŸå¼€å‘è®¡åˆ’ (TODO)

### ðŸŸ¢ åŸºç¡€ä½“éªŒä¼˜åŒ– (è¿›è¡Œä¸­)
- [x] **å¼•æ“Žå•ä¾‹åŒ–**ï¼šå®žçŽ° FastAPI ä¸Ž Chainlit å…±äº«åŒä¸€æ¨¡åž‹å®žä¾‹ï¼ŒèŠ‚çœæ˜¾å­˜ã€‚
- [x] **æ™ºèƒ½æç¤ºè¯è®¾è®¡**ï¼šå¼•å…¥åœºæ™¯è¯†åˆ«é€»è¾‘ï¼Œæ”¯æŒéžæ³•è¾“å…¥æ‹¦æˆªã€‚
- [x] **æµå¼å“åº”åŠ é€Ÿ**ï¼šä¼˜åŒ–å¼‚æ­¥ `sleep` ç­–ç•¥ï¼Œæå‡é¦–å­—å“åº”é€Ÿåº¦ï¼ˆTTFTï¼‰ã€‚
- [ ] **å¯¹è¯æŒä¹…åŒ–**ï¼šå°†åŽ†å²è®°å½•å­˜å‚¨è‡³ SQLiteï¼Œæ”¯æŒåˆ·æ–°é¡µé¢åŽæ¢å¤å¯¹è¯ã€‚
- [ ] **æ„å›¾è¯†åˆ«**ï¼šåŸºäºŽè¾“å…¥é—®é¢˜è¯†åˆ«ç”¨æˆ·çœŸå®žæ„å›¾ï¼Œå¹¶è¿›è¡Œå¼•å¯¼ã€‚

### ðŸŸ¡ åŠŸèƒ½å¢žå¼º (è®¡åˆ’ä¸­)
- [ ] **RAG æ’ä»¶ç³»ç»Ÿ**ï¼šæ”¯æŒä¸Šä¼ å…¬å¸å†…éƒ¨çš„ã€ŠæŠ€æœ¯è§„èŒƒæ–‡æ¡£ã€‹ï¼Œè®©æŠ€æœ¯æ–¹æ¡ˆæ›´ç¬¦åˆå›¢é˜Ÿæ ‡å‡†ã€‚
- [ ] **ä¸€é”®å¯¼å‡ºåŠŸèƒ½**ï¼šæ”¯æŒå°†ç¿»è¯‘åŽçš„æŠ€æœ¯æ–¹æ¡ˆå¯¼å‡ºä¸º Markdown æˆ– PDF æ ¼å¼ã€‚
- [ ] **å¤šè§’è‰²æ‰©å±•**ï¼šæ–°å¢ž `æµ‹è¯•è§†è§’`ï¼ˆç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼‰ä¸Ž `è¿ç»´è§†è§’`ï¼ˆç”Ÿæˆéƒ¨ç½²æ–¹æ¡ˆï¼‰ã€‚
- [ ] **ç”¨æˆ·åé¦ˆé—­çŽ¯**ï¼šåœ¨ UI å¢žåŠ â€œç‚¹èµž/ç‚¹è¸©â€åŠŸèƒ½ï¼Œç”¨äºŽæ”¶é›† Prompt è°ƒä¼˜æ•°æ®ã€‚
- [ ] **æ€ç»´é“¾**ï¼šé‡‡ç”¨æ€ç»´é“¾+rag+æ­£è´Ÿåé¦ˆä¼˜åŒ–agentè¾“å‡ºè´¨é‡ã€‚

### ðŸ”´ å·¥ä¸šçº§èƒ½åŠ› (æ„¿æ™¯)
- [ ] **å¹¶å‘æŽ’é˜Ÿç³»ç»Ÿ**ï¼šé’ˆå¯¹æœ¬åœ°æ¨¡åž‹å¼•å…¥ `asyncio.Lock`ï¼Œè§£å†³å¤šäººåŒæ—¶è°ƒç”¨æ—¶çš„æ˜¾å­˜äº‰æŠ¢ã€‚
- [ ] **è‡ªåŠ¨åŒ–è¯„ä¼°**ï¼šå¼•å…¥å¦ä¸€ä¸ª LLM ä½œä¸ºè£åˆ¤ï¼Œå¯¹ç¿»è¯‘æ–¹æ¡ˆçš„ä¸“ä¸šåº¦è¿›è¡Œè‡ªåŠ¨è¯„åˆ†ã€‚
- [ ] **ä¼ä¸šçº§é›†æˆ**ï¼šå¯¹æŽ¥é’‰é’‰/é£žä¹¦æœºå™¨äººï¼Œå®žçŽ°ç¾¤èŠä¸­çš„ç›´æŽ¥è½¬è¯‘ã€‚

### ðŸž å·²çŸ¥ Backlog
- [ ] ä¼˜åŒ– `Starters` åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨çš„æ˜¾ç¤ºå¸ƒå±€ã€‚
- [ ] ä¿®å¤ OpenAI API è¶…æ—¶æ—¶ UI æŒ‚èµ·çš„é—®é¢˜ã€‚

---

## ðŸ“¸ äº§å“æˆªå›¾

### ä¸»ç•Œé¢
![ä¸»ç•Œé¢](./examples/images/main-ui.png)

### æŽ¨ç†å¼•æ“Žå’Œagentåˆ‡æ¢
![å¼•æ“Žå’Œagentåˆ‡æ¢](./examples/images/switch.png)


### to äº§å“ 
![product](./examples/images/to_prod.png)

### to ç ”å‘
![product](./examples/images/to_dev.png)


### åœ¨çº¿æŽ¥å£æ–‡æ¡£
![api](./examples/images/api.png)


## ðŸš€ å¿«é€Ÿå¼€å§‹

1. **çŽ¯å¢ƒé…ç½®**:
   ```bash
   cp .env.example .env  # é…ç½®ä½ çš„ API Key å’Œæ¨¡åž‹è·¯å¾„
   python3 -m venv venv 
   source  ./venv/bin/activate
   pip3 install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple 


2. **æœ¬åœ°æ¨¡åž‹ä¸‹è½½**:
   ```bash
   pip install -U huggingface_hub
   # --local-dir æŒ‡å®šä¸‹è½½åˆ°å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ä¸­, é¡¹ç›®é»˜è®¤æ”¾ç½®äºŽmoduels/checkpointsç›®å½•ä¸‹,äº¦å¯åœ¨.envæ–‡ä»¶ä¸­æŒ‡å®šæ¨¡åž‹æ–‡ä»¶å¤¹åç§°
   huggingface-cli download Qwen/Qwen2.5-7B-Instruct --local-dir ./moduels/checkpoints/Qwen2.5-7B-Instruct

3. **å¯åŠ¨æœåŠ¡**:
   ```bash
   # å¯åŠ¨æœåŠ¡
   python3 lanuch.py 
   
   # æŒ‡å®šç«¯å£ 
   python3 lanuch.py  --port 7860

   # åŽå°è¿è¡Œ
   nohup python3 lanuch.py   > output.log 2>&1 &
   
4. **è®¿é—®è·¯å¾„**:
   - Web UI: http://127.0.0.1:7860
   - API Docs: http://127.0.0.1:7860/docs


## License

This project is licensed under the Apache 2.0 License.